{"version":3,"file":"bps-components-lib.js","sources":["ng://bps-components-lib/lib/bps-components-lib.service.ts","ng://bps-components-lib/lib/bps-components-lib.component.ts","ng://bps-components-lib/lib/components/bps-input/bps-input.directive.ts","ng://bps-components-lib/lib/components/bps-input/bps-autosize.directive.ts","ng://bps-components-lib/lib/components/bps-input/bps-input-group.component.ts","ng://bps-components-lib/lib/components/bps-select/bps-option.component.ts","ng://bps-components-lib/lib/components/bps-select/bps-option.pipe.ts","ng://bps-components-lib/lib/components/bps-select/bps-select.service.ts","ng://bps-components-lib/lib/components/bps-select/bps-option-li.component.ts","ng://bps-components-lib/lib/components/bps-select/bps-option-container.component.ts","ng://bps-components-lib/lib/components/bps-select/bps-option-group.component.ts","ng://bps-components-lib/lib/components/bps-select/bps-select-top-control.component.ts","ng://bps-components-lib/lib/components/bps-select/bps-select.component.ts","ng://bps-components-lib/lib/components/bps-select/bps-select-unselectable.directive.ts","ng://bps-components-lib/lib/components/bps-form/bps-form-explain.component.ts","ng://bps-components-lib/lib/components/bps-form/bps-form-item.component.ts","ng://bps-components-lib/lib/components/bps-form/bps-form-label.component.ts","ng://bps-components-lib/lib/components/bps-form/bps-form.directive.ts","ng://bps-components-lib/lib/components/bps-form/bps-form-control.component.ts","ng://bps-components-lib/lib/components/bps-form/bps-form-extra.component.ts","ng://bps-components-lib/lib/components/bps-form/bps-form-split.component.ts","ng://bps-components-lib/lib/components/bps-form/bps-form-text.component.ts","ng://bps-components-lib/lib/bps-components-lib.module.ts","ng://bps-components-lib/public-api.ts","ng://bps-components-lib/bps-components-lib.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BpsComponentsLibService {\n\n  constructor() { }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-bps-components-lib',\n  template: `\n    <p>\n      bps-components-lib works!\n    </p>\n  `,\n  styles: []\n})\nexport class BpsComponentsLibComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","import { Directive, ElementRef, Input, Renderer2 } from '@angular/core';\nimport { InputBoolean, NzSizeLDSType } from 'ng-zorro-antd/core';\n\n@Directive({\n  selector: '[bps-input]',\n  exportAs: 'bpsInput',\n  host: {\n    '[class.ant-input-disabled]': 'disabled',\n    '[class.ant-input-lg]': `bpsSize === 'large'`,\n    '[class.ant-input-sm]': `bpsSize === 'small'`,\n    '[class.bps-input-centered]': `centered`,\n    '[class.bps-input-opened]': `opened`\n  }\n})\nexport class BpsInputDirective {\n  @Input() bpsSize: NzSizeLDSType = 'default';\n  @Input() @InputBoolean() disabled = false;\n  @Input() @InputBoolean() centered = false;\n  @Input() @InputBoolean() opened = false;\n\n  constructor(renderer: Renderer2, elementRef: ElementRef) {\n    renderer.addClass(elementRef.nativeElement, 'ant-input');\n  }\n}\n","import { Platform } from '@angular/cdk/platform';\nimport { AfterViewInit, Directive, DoCheck, ElementRef, Input, NgZone, OnDestroy } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { finalize, takeUntil } from 'rxjs/operators';\n\nimport { NzDomEventService } from 'ng-zorro-antd/core';\n\nexport interface AutoSizeType {\n  minRows?: number;\n  maxRows?: number;\n}\n\nexport function isAutoSizeType(value: string | boolean | AutoSizeType): value is AutoSizeType {\n  return typeof value !== 'string' && typeof value !== 'boolean' && (!!value.maxRows || !!value.minRows);\n}\n\n@Directive({\n  selector: 'textarea[bpsAutosize]',\n  exportAs: 'bpsAutosize',\n  host: {\n    // Textarea elements that have the directive applied should have a single row by default.\n    // Browsers normally show two rows by default and therefore this limits the minRows binding.\n    rows: '1',\n    '(input)': 'noopInputHandler()'\n  }\n})\nexport class BpsAutosizeDirective implements AfterViewInit, OnDestroy, DoCheck {\n  private autosize: boolean | AutoSizeType = false;\n  private el: HTMLTextAreaElement | HTMLInputElement = this.elementRef.nativeElement;\n  private cachedLineHeight: number;\n  private previousValue: string;\n  private previousMinRows: number | undefined;\n  private minRows: number | undefined;\n  private maxRows: number | undefined;\n  private destroy$ = new Subject();\n  private inputGap = 10;\n\n  @Input()\n  set bpsAutosize(value: string | boolean | AutoSizeType) {\n    if (typeof value === 'string') {\n      this.autosize = true;\n    } else if (isAutoSizeType(value)) {\n      this.autosize = value;\n      this.minRows = value.minRows;\n      this.maxRows = value.maxRows;\n      this.setMaxHeight();\n      this.setMinHeight();\n    }\n  }\n\n  get bpsAutosize(): string | boolean | AutoSizeType {\n    return this.autosize;\n  }\n\n  resizeToFitContent(force: boolean = false): void {\n    this.cacheTextareaLineHeight();\n\n    // If we haven't determined the line-height yet, we know we're still hidden and there's no point\n    // in checking the height of the textarea.\n    if (!this.cachedLineHeight) {\n      return;\n    }\n\n    const textarea = this.el as HTMLTextAreaElement;\n    const value = textarea.value;\n\n    // Only resize if the value or minRows have changed since these calculations can be expensive.\n    if (!force && this.minRows === this.previousMinRows && value === this.previousValue) {\n      return;\n    }\n    const placeholderText = textarea.placeholder;\n\n    // Reset the textarea height to auto in order to shrink back to its default size.\n    // Also temporarily force overflow:hidden, so scroll bars do not interfere with calculations.\n    // Long placeholders that are wider than the textarea width may lead to a bigger scrollHeight\n    // value. To ensure that the scrollHeight is not bigger than the content, the placeholders\n    // need to be removed temporarily.\n    textarea.classList.add('cdk-textarea-autosize-measuring');\n    textarea.placeholder = '';\n    const height =\n      Math.round((textarea.scrollHeight - this.inputGap) / this.cachedLineHeight) * this.cachedLineHeight +\n      this.inputGap;\n\n    // Use the scrollHeight to know how large the textarea *would* be if fit its entire value.\n    textarea.style.height = `${height}px`;\n    textarea.classList.remove('cdk-textarea-autosize-measuring');\n    textarea.placeholder = placeholderText;\n\n    // On Firefox resizing the textarea will prevent it from scrolling to the caret position.\n    // We need to re-set the selection in order for it to scroll to the proper position.\n    if (typeof requestAnimationFrame !== 'undefined') {\n      this.ngZone.runOutsideAngular(() =>\n        requestAnimationFrame(() => {\n          const { selectionStart, selectionEnd } = textarea;\n\n          // IE will throw an \"Unspecified error\" if we try to set the selection range after the\n          // element has been removed from the DOM. Assert that the directive hasn't been destroyed\n          // between the time we requested the animation frame and when it was executed.\n          // Also note that we have to assert that the textarea is focused before we set the\n          // selection range. Setting the selection range on a non-focused textarea will cause\n          // it to receive focus on IE and Edge.\n          if (!this.destroy$.isStopped && document.activeElement === textarea) {\n            textarea.setSelectionRange(selectionStart, selectionEnd);\n          }\n        })\n      );\n    }\n\n    this.previousValue = value;\n    this.previousMinRows = this.minRows;\n  }\n\n  private cacheTextareaLineHeight(): void {\n    if (this.cachedLineHeight >= 0 || !this.el.parentNode) {\n      return;\n    }\n\n    // Use a clone element because we have to override some styles.\n    const textareaClone = this.el.cloneNode(false) as HTMLTextAreaElement;\n    textareaClone.rows = 1;\n\n    // Use `position: absolute` so that this doesn't cause a browser layout and use\n    // `visibility: hidden` so that nothing is rendered. Clear any other styles that\n    // would affect the height.\n    textareaClone.style.position = 'absolute';\n    textareaClone.style.visibility = 'hidden';\n    textareaClone.style.border = 'none';\n    textareaClone.style.padding = '0';\n    textareaClone.style.height = '';\n    textareaClone.style.minHeight = '';\n    textareaClone.style.maxHeight = '';\n\n    // In Firefox it happens that textarea elements are always bigger than the specified amount\n    // of rows. This is because Firefox tries to add extra space for the horizontal scrollbar.\n    // As a workaround that removes the extra space for the scrollbar, we can just set overflow\n    // to hidden. This ensures that there is no invalid calculation of the line height.\n    // See Firefox bug report: https://bugzilla.mozilla.org/show_bug.cgi?id=33654\n    textareaClone.style.overflow = 'hidden';\n\n    this.el.parentNode!.appendChild(textareaClone);\n    this.cachedLineHeight = textareaClone.clientHeight - this.inputGap - 1;\n    this.el.parentNode!.removeChild(textareaClone);\n\n    // Min and max heights have to be re-calculated if the cached line height changes\n    this.setMinHeight();\n    this.setMaxHeight();\n  }\n\n  setMinHeight(): void {\n    const minHeight =\n      this.minRows && this.cachedLineHeight ? `${this.minRows * this.cachedLineHeight + this.inputGap}px` : null;\n\n    if (minHeight) {\n      this.el.style.minHeight = minHeight;\n    }\n  }\n\n  setMaxHeight(): void {\n    const maxHeight =\n      this.maxRows && this.cachedLineHeight ? `${this.maxRows * this.cachedLineHeight + this.inputGap}px` : null;\n\n    if (maxHeight) {\n      this.el.style.maxHeight = maxHeight;\n    }\n  }\n\n  noopInputHandler(): void {\n    // no-op handler that ensures we're running change detection on input events.\n  }\n\n  constructor(\n    private elementRef: ElementRef,\n    private ngZone: NgZone,\n    private platform: Platform,\n    private nzDomEventService: NzDomEventService\n  ) {}\n\n  ngAfterViewInit(): void {\n    if (this.bpsAutosize && this.platform.isBrowser) {\n      this.resizeToFitContent();\n      this.nzDomEventService\n        .registerResizeListener()\n        .pipe(\n          takeUntil(this.destroy$),\n          finalize(() => this.nzDomEventService.unregisterResizeListener())\n        )\n        .subscribe(() => this.resizeToFitContent(true));\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  ngDoCheck(): void {\n    if (this.bpsAutosize && this.platform.isBrowser) {\n      this.resizeToFitContent();\n    }\n  }\n}\n","import {\n  AfterContentInit,\n  ChangeDetectionStrategy,\n  Component,\n  ContentChildren,\n  Input,\n  QueryList,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport { InputBoolean, NgClassType, NzSizeLDSType } from 'ng-zorro-antd/core';\nimport { BpsInputDirective } from './bps-input.directive';\n\n@Component({\n  selector: 'bps-input-group',\n  exportAs: 'bpsInputGroup',\n  preserveWhitespaces: false,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './bps-input-group.component.html',\n  host: {\n    '[class.ant-input-group-compact]': 'bpsCompact',\n    '[class.ant-input-search-enter-button]': 'bpsSearch',\n    '[class.ant-input-search]': 'bpsSearch',\n    '[class.ant-input-search-sm]': 'isSmallSearch',\n    '[class.ant-input-affix-wrapper]': 'isAffixWrapper',\n    '[class.ant-input-group-wrapper]': 'isAddOn',\n    '[class.ant-input-group]': 'isGroup',\n    '[class.ant-input-group-lg]': 'isLargeGroup',\n    '[class.ant-input-group-wrapper-lg]': 'isLargeGroupWrapper',\n    '[class.ant-input-affix-wrapper-lg]': 'isLargeAffix',\n    '[class.ant-input-search-lg]': 'isLargeSearch',\n    '[class.ant-input-group-sm]': 'isSmallGroup',\n    '[class.ant-input-affix-wrapper-sm]': 'isSmallAffix',\n    '[class.ant-input-group-wrapper-sm]': 'isSmallGroupWrapper'\n  }\n})\nexport class BpsInputGroupComponent implements AfterContentInit {\n  @ContentChildren(BpsInputDirective) listOfNzInputDirective: QueryList<BpsInputDirective>;\n  private _size: NzSizeLDSType = 'default';\n  @Input() bpsAddOnBeforeIcon: NgClassType;\n  @Input() bpsAddOnAfterIcon: NgClassType;\n  @Input() bpsPrefixIcon: NgClassType;\n  @Input() bpsSuffixIcon: NgClassType;\n  @Input() bpsAddOnBefore: string | TemplateRef<void>;\n  @Input() bpsAddOnAfter: string | TemplateRef<void>;\n  @Input() bpsPrefix: string | TemplateRef<void>;\n  @Input() bpsSuffix: string | TemplateRef<void>;\n  @Input() @InputBoolean() bpsSearch = false;\n  @Input() @InputBoolean() bpsCompact = false;\n\n  @Input() set bpsSize(value: NzSizeLDSType) {\n    this._size = value;\n    this.updateChildrenInputSize();\n  }\n\n  get bpsSize(): NzSizeLDSType {\n    return this._size;\n  }\n\n  get isLarge(): boolean {\n    return this.bpsSize === 'large';\n  }\n\n  get isSmall(): boolean {\n    return this.bpsSize === 'small';\n  }\n\n  get isAffix(): boolean {\n    return !!(this.bpsSuffix || this.bpsPrefix || this.bpsPrefixIcon || this.bpsSuffixIcon);\n  }\n\n  get isAddOn(): boolean {\n    return !!(this.bpsAddOnAfter || this.bpsAddOnBefore || this.bpsAddOnAfterIcon || this.bpsAddOnBeforeIcon);\n  }\n\n  get isAffixWrapper(): boolean {\n    return this.isAffix && !this.isAddOn;\n  }\n\n  get isGroup(): boolean {\n    return !this.isAffix && !this.isAddOn;\n  }\n\n  get isLargeGroup(): boolean {\n    return this.isGroup && this.isLarge;\n  }\n\n  get isLargeGroupWrapper(): boolean {\n    return this.isAddOn && this.isLarge;\n  }\n\n  get isLargeAffix(): boolean {\n    return this.isAffixWrapper && this.isLarge;\n  }\n\n  get isLargeSearch(): boolean {\n    return this.bpsSearch && this.isLarge;\n  }\n\n  get isSmallGroup(): boolean {\n    return this.isGroup && this.isSmall;\n  }\n\n  get isSmallAffix(): boolean {\n    return this.isAffixWrapper && this.isSmall;\n  }\n\n  get isSmallGroupWrapper(): boolean {\n    return this.isAddOn && this.isSmall;\n  }\n\n  get isSmallSearch(): boolean {\n    return this.bpsSearch && this.isSmall;\n  }\n\n  updateChildrenInputSize(): void {\n    if (this.listOfNzInputDirective) {\n      this.listOfNzInputDirective.forEach(item => (item.bpsSize = this.bpsSize));\n    }\n  }\n\n  ngAfterContentInit(): void {\n    this.updateChildrenInputSize();\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport { InputBoolean } from 'ng-zorro-antd/core';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'bps-option',\n  exportAs: 'bpsOption',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './bps-option.component.html'\n})\nexport class BpsOptionComponent implements OnChanges {\n  changes = new Subject();\n  @ViewChild(TemplateRef, { static: false }) template: TemplateRef<void>;\n  @Input() bpsLabel: string;\n  // tslint:disable-next-line:no-any\n  @Input() bpsValue: any;\n  @Input() @InputBoolean() bpsDisabled = false;\n  @Input() @InputBoolean() bpsHide = false;\n  @Input() @InputBoolean() bpsCustomContent = false;\n\n  ngOnChanges(): void {\n    this.changes.next();\n  }\n}\n","import { Pipe, PipeTransform, QueryList } from '@angular/core';\nimport { BpsOptionGroupComponent } from './bps-option-group.component';\nimport { BpsOptionComponent } from './bps-option.component';\n\nexport type TFilterOption = (input: string, option: BpsOptionComponent) => boolean;\n\n@Pipe({ name: 'bpsFilterOption' })\nexport class BpsFilterOptionPipe implements PipeTransform {\n  transform(\n    options: BpsOptionComponent[] | QueryList<BpsOptionComponent>,\n    searchValue: string,\n    filterOption: TFilterOption,\n    serverSearch: boolean\n  ): BpsOptionComponent[] {\n    if (serverSearch || !searchValue) {\n      return options as BpsOptionComponent[];\n    } else {\n      return (options as BpsOptionComponent[]).filter(o => filterOption(searchValue, o));\n    }\n  }\n}\n\n@Pipe({ name: 'bpsFilterGroupOption' })\nexport class BpsFilterGroupOptionPipe implements PipeTransform {\n  transform(\n    groups: BpsOptionGroupComponent[],\n    searchValue: string,\n    filterOption: TFilterOption,\n    serverSearch: boolean\n  ): BpsOptionGroupComponent[] {\n    if (serverSearch || !searchValue) {\n      return groups;\n    } else {\n      return (groups as BpsOptionGroupComponent[]).filter(g => {\n        return g.listOfNzOptionComponent.some(o => filterOption(searchValue, o));\n      });\n    }\n  }\n}\n\nexport function defaultFilterOption(searchValue: string, option: BpsOptionComponent): boolean {\n  if (option && option.bpsLabel) {\n    return option.bpsLabel.toLowerCase().indexOf(searchValue.toLowerCase()) > -1;\n  } else {\n    return false;\n  }\n}\n","import { BACKSPACE, DOWN_ARROW, ENTER, SPACE, TAB, UP_ARROW } from '@angular/cdk/keycodes';\nimport { Injectable } from '@angular/core';\nimport { combineLatest, merge, BehaviorSubject, ReplaySubject, Subject } from 'rxjs';\nimport { distinctUntilChanged, filter, map, share, skip, tap } from 'rxjs/operators';\n\nimport { isNil, isNotNil } from 'ng-zorro-antd/core';\n\nimport { BpsOptionGroupComponent } from './bps-option-group.component';\nimport { BpsOptionComponent } from './bps-option.component';\nimport { defaultFilterOption, BpsFilterOptionPipe, TFilterOption } from './bps-option.pipe';\n\n@Injectable()\nexport class BpsSelectService {\n\n  get isSingleMode(): boolean {\n    return this.mode === 'default';\n  }\n\n  get isTagsMode(): boolean {\n    return this.mode === 'tags';\n  }\n\n  get isMultipleMode(): boolean {\n    return this.mode === 'multiple';\n  }\n\n  get isMultipleOrTags(): boolean {\n    return this.mode === 'tags' || this.mode === 'multiple';\n  }\n  // tslint:disable-next-line:jsdoc-format\n  /** Input params **/\n  autoClearSearchValue = true;\n  serverSearch = false;\n  filterOption: TFilterOption = defaultFilterOption;\n  mode: 'default' | 'multiple' | 'tags' = 'default';\n  maxMultipleCount = Infinity;\n  disabled = false;\n  // tslint:disable-next-line:jsdoc-format\n  /** selectedValueChanged should emit ngModelChange or not **/\n  // tslint:disable-next-line:no-any\n  private listOfSelectedValueWithEmit$ = new BehaviorSubject<{ value: any[]; emit: boolean }>({\n    value: [],\n    emit: false\n  });\n  // tslint:disable-next-line:jsdoc-format\n  /** ContentChildren Change **/\n  private mapOfTemplateOption$ = new BehaviorSubject<{\n    listOfNzOptionComponent: BpsOptionComponent[];\n    listOfNzOptionGroupComponent: BpsOptionGroupComponent[];\n  }>({\n    listOfNzOptionComponent: [],\n    listOfNzOptionGroupComponent: []\n  });\n  // tslint:disable-next-line:jsdoc-format\n  /** searchValue Change **/\n  private searchValueRaw$ = new BehaviorSubject<string>('');\n  private listOfFilteredOption: BpsOptionComponent[] = [];\n  private openRaw$ = new Subject<boolean>();\n  private checkRaw$ = new Subject();\n  private open = false;\n  clearInput$ = new Subject<boolean>();\n  searchValue = '';\n  isShowNotFound = false;\n  // tslint:disable-next-line:jsdoc-format\n  /** animation event **/\n  animationEvent$ = new Subject();\n  // tslint:disable-next-line:jsdoc-format\n  /** open event **/\n  open$ = this.openRaw$.pipe(distinctUntilChanged());\n  activatedOption: BpsOptionComponent | null;\n  activatedOption$ = new ReplaySubject<BpsOptionComponent | null>(1);\n  listOfSelectedValue$ = this.listOfSelectedValueWithEmit$.pipe(map(data => data.value));\n  modelChange$ = this.listOfSelectedValueWithEmit$.pipe(\n    filter(item => item.emit),\n    map(data => {\n      const selectedList = data.value;\n      let modelValue: any[] | null = null; // tslint:disable-line:no-any\n      if (this.isSingleMode) {\n        if (selectedList.length) {\n          modelValue = selectedList[0];\n        }\n      } else {\n        modelValue = selectedList;\n      }\n      return modelValue;\n    })\n  );\n  searchValue$ = this.searchValueRaw$.pipe(\n    distinctUntilChanged(),\n    skip(1),\n    share(),\n    tap(value => {\n      this.searchValue = value;\n      if (value) {\n        this.updateActivatedOption(this.listOfFilteredOption[0]);\n      }\n      this.updateListOfFilteredOption();\n    })\n  );\n  // tslint:disable-next-line:no-any\n  listOfSelectedValue: any[] = [];\n  // tslint:disable-next-line:jsdoc-format\n  /** flat ViewChildren **/\n  listOfTemplateOption: BpsOptionComponent[] = [];\n  // tslint:disable-next-line:jsdoc-format\n  /** tag option **/\n  listOfTagOption: BpsOptionComponent[] = [];\n  // tslint:disable-next-line:jsdoc-format\n  /** tag option concat template option **/\n  listOfTagAndTemplateOption: BpsOptionComponent[] = [];\n  // tslint:disable-next-line:jsdoc-format\n  /** ViewChildren **/\n  listOfNzOptionComponent: BpsOptionComponent[] = [];\n  listOfNzOptionGroupComponent: BpsOptionGroupComponent[] = [];\n  // tslint:disable-next-line:jsdoc-format\n  /** click or enter add tag option **/\n  addedTagOption: BpsOptionComponent | null;\n  // tslint:disable-next-line:jsdoc-format\n  /** display in top control **/\n  listOfCachedSelectedOption: BpsOptionComponent[] = [];\n  // tslint:disable-next-line:jsdoc-format\n  /** selected value or ViewChildren change **/\n  valueOrOption$ = combineLatest([this.listOfSelectedValue$, this.mapOfTemplateOption$]).pipe(\n    tap(data => {\n      const [listOfSelectedValue, mapOfTemplateOption] = data;\n      this.listOfSelectedValue = listOfSelectedValue;\n      this.listOfNzOptionComponent = mapOfTemplateOption.listOfNzOptionComponent;\n      this.listOfNzOptionGroupComponent = mapOfTemplateOption.listOfNzOptionGroupComponent;\n      this.listOfTemplateOption = this.listOfNzOptionComponent.concat(\n        this.listOfNzOptionGroupComponent.reduce(\n          (pre, cur) => [...pre, ...cur.listOfNzOptionComponent.toArray()],\n          [] as BpsOptionComponent[]\n        )\n      );\n      this.updateListOfTagOption();\n      this.updateListOfFilteredOption();\n      this.resetActivatedOptionIfNeeded();\n      this.updateListOfCachedOption();\n    }),\n    share()\n  );\n  check$ = merge(\n    this.checkRaw$,\n    this.valueOrOption$,\n    this.searchValue$,\n    this.activatedOption$,\n    this.open$,\n    this.modelChange$\n  ).pipe(share());\n  // tslint:disable-next-line:no-any\n  compareWith = (o1: any, o2: any) => o1 === o2;\n\n  clickOption(option: BpsOptionComponent): void {\n    // tslint:disable-next-line:jsdoc-format\n    /** update listOfSelectedOption -> update listOfSelectedValue -> next listOfSelectedValue$ **/\n    if (!option.bpsDisabled) {\n      this.updateActivatedOption(option);\n      let listOfSelectedValue = [...this.listOfSelectedValue];\n      if (this.isMultipleOrTags) {\n        const targetValue = listOfSelectedValue.find(o => this.compareWith(o, option.bpsValue));\n        if (isNotNil(targetValue)) {\n          listOfSelectedValue.splice(listOfSelectedValue.indexOf(targetValue), 1);\n          this.updateListOfSelectedValue(listOfSelectedValue, true);\n        } else if (listOfSelectedValue.length < this.maxMultipleCount) {\n          listOfSelectedValue.push(option.bpsValue);\n          this.updateListOfSelectedValue(listOfSelectedValue, true);\n        }\n      } else if (!this.compareWith(listOfSelectedValue[0], option.bpsValue)) {\n        listOfSelectedValue = [option.bpsValue];\n        this.updateListOfSelectedValue(listOfSelectedValue, true);\n      }\n      if (this.isSingleMode) {\n        this.setOpenState(false);\n      } else if (this.autoClearSearchValue) {\n        this.clearInput();\n      }\n    }\n  }\n\n  updateListOfCachedOption(): void {\n    if (this.isSingleMode) {\n      const selectedOption = this.listOfTemplateOption.find(o =>\n        this.compareWith(o.bpsValue, this.listOfSelectedValue[0])\n      );\n      if (!isNil(selectedOption)) {\n        this.listOfCachedSelectedOption = [selectedOption];\n      }\n    } else {\n      const listOfCachedSelectedOption: BpsOptionComponent[] = [];\n      this.listOfSelectedValue.forEach(v => {\n        const listOfMixedOption = [...this.listOfTagAndTemplateOption, ...this.listOfCachedSelectedOption];\n        const option = listOfMixedOption.find(o => this.compareWith(o.bpsValue, v));\n        if (option) {\n          listOfCachedSelectedOption.push(option);\n        }\n      });\n      this.listOfCachedSelectedOption = listOfCachedSelectedOption;\n    }\n  }\n\n  updateListOfTagOption(): void {\n    if (this.isTagsMode) {\n      const listOfMissValue = this.listOfSelectedValue.filter(\n        value => !this.listOfTemplateOption.find(o => this.compareWith(o.bpsValue, value))\n      );\n      this.listOfTagOption = listOfMissValue.map(value => {\n        const cachedOption = this.listOfCachedSelectedOption.find(o => this.compareWith(o.bpsValue, value));\n        if (cachedOption) {\n          return cachedOption;\n        } else {\n          const nzOptionComponent = new BpsOptionComponent();\n          nzOptionComponent.bpsValue = value;\n          nzOptionComponent.bpsLabel = value;\n          return nzOptionComponent;\n        }\n      });\n      this.listOfTagAndTemplateOption = [...this.listOfTemplateOption.concat(this.listOfTagOption)];\n    } else {\n      this.listOfTagAndTemplateOption = [...this.listOfTemplateOption];\n    }\n  }\n\n  updateAddTagOption(): void {\n    const isMatch = this.listOfTagAndTemplateOption.find(item => item.bpsLabel === this.searchValue);\n    if (this.isTagsMode && this.searchValue && !isMatch) {\n      const option = new BpsOptionComponent();\n      option.bpsValue = this.searchValue;\n      option.bpsLabel = this.searchValue;\n      this.addedTagOption = option;\n      this.updateActivatedOption(option);\n    } else {\n      this.addedTagOption = null;\n    }\n  }\n\n  updateListOfFilteredOption(): void {\n    this.updateAddTagOption();\n    const listOfFilteredOption = new BpsFilterOptionPipe().transform(\n      this.listOfTagAndTemplateOption,\n      this.searchValue,\n      this.filterOption,\n      this.serverSearch\n    );\n    this.listOfFilteredOption = this.addedTagOption\n      ? [this.addedTagOption, ...listOfFilteredOption]\n      : [...listOfFilteredOption];\n    this.isShowNotFound = !this.isTagsMode && !this.listOfFilteredOption.length;\n  }\n\n  clearInput(): void {\n    this.clearInput$.next();\n  }\n\n  // tslint:disable-next-line:no-any\n  updateListOfSelectedValue(value: any[], emit: boolean): void {\n    this.listOfSelectedValueWithEmit$.next({ value, emit });\n  }\n\n  updateActivatedOption(option: BpsOptionComponent | null): void {\n    this.activatedOption$.next(option);\n    this.activatedOption = option;\n  }\n\n  tokenSeparate(inputValue: string, tokenSeparators: string[]): void {\n    // tslint:disable-next-line:jsdoc-format\n    /** auto tokenSeparators **/\n    if (\n      inputValue &&\n      inputValue.length &&\n      tokenSeparators.length &&\n      this.isMultipleOrTags &&\n      this.includesSeparators(inputValue, tokenSeparators)\n    ) {\n      const listOfLabel = this.splitBySeparators(inputValue, tokenSeparators);\n      this.updateSelectedValueByLabelList(listOfLabel);\n      this.clearInput();\n    }\n  }\n\n  includesSeparators(str: string | string[], separators: string[]): boolean {\n    // tslint:disable-next-line:prefer-for-of\n    for (let i = 0; i < separators.length; ++i) {\n      if (str.lastIndexOf(separators[i]) > 0) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  splitBySeparators(str: string | string[], separators: string[]): string[] {\n    const reg = new RegExp(`[${separators.join()}]`);\n    const array = (str as string).split(reg).filter(token => token);\n    return Array.from(new Set(array));\n  }\n\n  resetActivatedOptionIfNeeded(): void {\n    const resetActivatedOption = () => {\n      const activatedOption = this.listOfFilteredOption.find(item =>\n        this.compareWith(item.bpsValue, this.listOfSelectedValue[0])\n      );\n      this.updateActivatedOption(activatedOption || null);\n    };\n    if (this.activatedOption) {\n      if (\n        // tslint:disable-next-line:no-non-null-assertion\n        !this.listOfFilteredOption.find(item => this.compareWith(item.bpsValue, this.activatedOption!.bpsValue)) ||\n        // tslint:disable-next-line:no-non-null-assertion\n        !this.listOfSelectedValue.find(item => this.compareWith(item, this.activatedOption!.bpsValue))\n      ) {\n        resetActivatedOption();\n      }\n    } else {\n      resetActivatedOption();\n    }\n  }\n\n  updateTemplateOption(\n    listOfNzOptionComponent: BpsOptionComponent[],\n    listOfNzOptionGroupComponent: BpsOptionGroupComponent[]\n  ): void {\n    this.mapOfTemplateOption$.next({ listOfNzOptionComponent, listOfNzOptionGroupComponent });\n  }\n\n  updateSearchValue(value: string): void {\n    this.searchValueRaw$.next(value);\n  }\n\n  updateSelectedValueByLabelList(listOfLabel: string[]): void {\n    const listOfSelectedValue = [...this.listOfSelectedValue];\n    const listOfMatchOptionValue = this.listOfTagAndTemplateOption\n      .filter(item => listOfLabel.indexOf(item.bpsLabel) !== -1)\n      .map(item => item.bpsValue)\n      .filter(item => !isNotNil(this.listOfSelectedValue.find(v => this.compareWith(v, item))));\n    if (this.isMultipleMode) {\n      this.updateListOfSelectedValue([...listOfSelectedValue, ...listOfMatchOptionValue], true);\n    } else {\n      const listOfUnMatchOptionValue = listOfLabel.filter(\n        label => this.listOfTagAndTemplateOption.map(item => item.bpsLabel).indexOf(label) === -1\n      );\n      this.updateListOfSelectedValue(\n        [...listOfSelectedValue, ...listOfMatchOptionValue, ...listOfUnMatchOptionValue],\n        true\n      );\n    }\n  }\n\n  onKeyDown(e: KeyboardEvent): void {\n    if (this.disabled) {\n      return;\n    }\n    const keyCode = e.keyCode;\n    const eventTarget = e.target as HTMLInputElement;\n    const listOfFilteredOptionWithoutDisabledOrHidden = this.listOfFilteredOption.filter(\n      item => !item.bpsDisabled && !item.bpsHide\n    );\n    const activatedIndex = listOfFilteredOptionWithoutDisabledOrHidden.findIndex(item => item === this.activatedOption);\n    switch (keyCode) {\n      case UP_ARROW:\n        e.preventDefault();\n        const preIndex =\n          activatedIndex > 0 ? activatedIndex - 1 : listOfFilteredOptionWithoutDisabledOrHidden.length - 1;\n        this.updateActivatedOption(listOfFilteredOptionWithoutDisabledOrHidden[preIndex]);\n        break;\n      case DOWN_ARROW:\n        e.preventDefault();\n        const nextIndex =\n          activatedIndex < listOfFilteredOptionWithoutDisabledOrHidden.length - 1 ? activatedIndex + 1 : 0;\n        this.updateActivatedOption(listOfFilteredOptionWithoutDisabledOrHidden[nextIndex]);\n        if (!this.disabled && !this.open) {\n          this.setOpenState(true);\n        }\n        break;\n      case ENTER:\n        e.preventDefault();\n        if (this.open) {\n          if (this.activatedOption && !this.activatedOption.bpsDisabled) {\n            this.clickOption(this.activatedOption);\n          }\n        } else {\n          this.setOpenState(true);\n        }\n        break;\n      case BACKSPACE:\n        if (this.isMultipleOrTags && !eventTarget.value && this.listOfCachedSelectedOption.length) {\n          e.preventDefault();\n          this.removeValueFormSelected(this.listOfCachedSelectedOption[this.listOfCachedSelectedOption.length - 1]);\n        }\n        break;\n      case SPACE:\n        if (!this.disabled && !this.open) {\n          this.setOpenState(true);\n          e.preventDefault();\n        }\n        break;\n      case TAB:\n        this.setOpenState(false);\n        break;\n    }\n  }\n\n  // tslint:disable-next-line:no-any\n  removeValueFormSelected(option: BpsOptionComponent): void {\n    if (this.disabled || option.bpsDisabled) {\n      return;\n    }\n    const listOfSelectedValue = this.listOfSelectedValue.filter(item => !this.compareWith(item, option.bpsValue));\n    this.updateListOfSelectedValue(listOfSelectedValue, true);\n    this.clearInput();\n  }\n\n  setOpenState(value: boolean): void {\n    this.openRaw$.next(value);\n    this.open = value;\n  }\n\n  check(): void {\n    this.checkRaw$.next();\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Input,\n  OnDestroy,\n  OnInit,\n  Renderer2,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { isNotNil } from 'ng-zorro-antd/core';\n\nimport { BpsOptionComponent } from './bps-option.component';\nimport { BpsSelectService } from './bps-select.service';\n\n@Component({\n  selector: '[bps-option-li]',\n  exportAs: 'bpsOptionLi',\n  templateUrl: './bps-option-li.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  host: {\n    '[class.ant-select-dropdown-menu-item-selected]': 'selected && !bpsOption.bpsDisabled',\n    '[class.ant-select-dropdown-menu-item-disabled]': 'bpsOption.bpsDisabled',\n    '[class.ant-select-dropdown-menu-item-active]': 'active && !bpsOption.bpsDisabled',\n    '[attr.unselectable]': '\"unselectable\"',\n    '[style.user-select]': '\"none\"',\n    '(click)': 'clickOption()',\n    '(mousedown)': '$event.preventDefault()'\n  }\n})\nexport class BpsOptionLiComponent implements OnInit, OnDestroy {\n  el: HTMLElement = this.elementRef.nativeElement;\n  selected = false;\n  active = false;\n  destroy$ = new Subject();\n  @Input() bpsOption: BpsOptionComponent;\n  @Input() bpsMenuItemSelectedIcon: TemplateRef<void>;\n\n  clickOption(): void {\n    this.nzSelectService.clickOption(this.bpsOption);\n  }\n\n  constructor(\n    private elementRef: ElementRef,\n    public nzSelectService: BpsSelectService,\n    private cdr: ChangeDetectorRef,\n    renderer: Renderer2\n  ) {\n    renderer.addClass(elementRef.nativeElement, 'ant-select-dropdown-menu-item');\n  }\n\n  ngOnInit(): void {\n    this.nzSelectService.listOfSelectedValue$.pipe(takeUntil(this.destroy$)).subscribe(list => {\n      this.selected = isNotNil(list.find(v => this.nzSelectService.compareWith(v, this.bpsOption.bpsValue)));\n      this.cdr.markForCheck();\n    });\n    this.nzSelectService.activatedOption$.pipe(takeUntil(this.destroy$)).subscribe(option => {\n      if (option) {\n        this.active = this.nzSelectService.compareWith(option.bpsValue, this.bpsOption.bpsValue);\n      } else {\n        this.active = false;\n      }\n      this.cdr.markForCheck();\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","import {\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  NgZone,\n  OnDestroy,\n  OnInit,\n  Output,\n  QueryList,\n  TemplateRef,\n  ViewChild,\n  ViewChildren,\n  ViewEncapsulation\n} from '@angular/core';\nimport { fromEvent, Subject } from 'rxjs';\nimport { filter, map, pairwise, takeUntil } from 'rxjs/operators';\nimport { BpsOptionGroupComponent } from './bps-option-group.component';\nimport { BpsOptionLiComponent } from './bps-option-li.component';\nimport { BpsOptionComponent } from './bps-option.component';\nimport { BpsSelectService } from './bps-select.service';\n\n@Component({\n  selector: '[bps-option-container]',\n  exportAs: 'bpsOptionContainer',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  preserveWhitespaces: false,\n  templateUrl: './bps-option-container.component.html'\n})\nexport class BpsOptionContainerComponent implements OnDestroy, OnInit, AfterViewInit {\n  private destroy$ = new Subject();\n  private lastScrollTop = 0;\n  @ViewChildren(BpsOptionLiComponent) listOfNzOptionLiComponent: QueryList<BpsOptionLiComponent>;\n  @ViewChild('dropdownUl', { static: true }) dropdownUl: ElementRef<HTMLUListElement>;\n  @Input() bpsNotFoundContent: string;\n  @Input() bpsMenuItemSelectedIcon: TemplateRef<void>;\n  @Output() readonly bpsScrollToBottom = new EventEmitter<void>();\n\n  scrollIntoViewIfNeeded(option: BpsOptionComponent): void {\n    // delay after open\n    setTimeout(() => {\n      if (this.listOfNzOptionLiComponent && this.listOfNzOptionLiComponent.length && option) {\n        const targetOption = this.listOfNzOptionLiComponent.find(o =>\n          this.nzSelectService.compareWith(o.bpsOption.bpsValue, option.bpsValue)\n        );\n        // tslint:disable:no-any\n        if (targetOption && targetOption.el && (targetOption.el as any).scrollIntoViewIfNeeded) {\n          (targetOption.el as any).scrollIntoViewIfNeeded(false);\n        }\n      }\n    });\n  }\n\n  trackLabel(_index: number, option: BpsOptionGroupComponent): string | TemplateRef<void> {\n    return option.bpsLabel;\n  }\n\n  // tslint:disable-next-line:no-any\n  trackValue(_index: number, option: BpsOptionComponent): any {\n    return option.bpsValue;\n  }\n\n  constructor(public nzSelectService: BpsSelectService, private cdr: ChangeDetectorRef, private ngZone: NgZone) {}\n\n  ngOnInit(): void {\n    this.nzSelectService.activatedOption$.pipe(takeUntil(this.destroy$)).subscribe(option => {\n      this.scrollIntoViewIfNeeded(option!);\n    });\n    this.nzSelectService.check$.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this.cdr.markForCheck();\n    });\n    this.ngZone.runOutsideAngular(() => {\n      const ul = this.dropdownUl.nativeElement;\n      fromEvent<MouseEvent>(ul, 'scroll')\n        .pipe(takeUntil(this.destroy$))\n        .subscribe(e => {\n          e.preventDefault();\n          e.stopPropagation();\n          if (ul && ul.scrollTop > this.lastScrollTop && ul.scrollHeight < ul.clientHeight + ul.scrollTop + 10) {\n            this.lastScrollTop = ul.scrollTop;\n            this.ngZone.run(() => {\n              this.bpsScrollToBottom.emit();\n            });\n          }\n        });\n    });\n  }\n\n  ngAfterViewInit(): void {\n    this.listOfNzOptionLiComponent.changes\n      .pipe(\n        map(list => list.length),\n        pairwise(),\n        filter(([before, after]) => after < before),\n        takeUntil(this.destroy$)\n      )\n      .subscribe(() => (this.lastScrollTop = 0));\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  ContentChildren,\n  Input,\n  QueryList,\n  TemplateRef,\n  ViewEncapsulation\n} from '@angular/core';\nimport { BpsOptionComponent } from './bps-option.component';\n\n@Component({\n  selector: 'bps-option-group',\n  exportAs: 'bpsOptionGroup',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './bps-option-group.component.html'\n})\nexport class BpsOptionGroupComponent {\n  isLabelString = false;\n  label: string | TemplateRef<void>;\n  @ContentChildren(BpsOptionComponent) listOfNzOptionComponent: QueryList<BpsOptionComponent>;\n\n  @Input()\n  set bpsLabel(value: string | TemplateRef<void>) {\n    this.label = value;\n    this.isLabelString = !(this.bpsLabel instanceof TemplateRef);\n  }\n\n  get bpsLabel(): string | TemplateRef<void> {\n    return this.label;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  Host,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Renderer2,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { zoomMotion, NzNoAnimationDirective } from 'ng-zorro-antd/core';\n\nimport { BpsOptionComponent } from './bps-option.component';\nimport { BpsSelectService } from './bps-select.service';\n\n@Component({\n  selector: '[bps-select-top-control]',\n  exportAs: 'bpsSelectTopControl',\n  preserveWhitespaces: false,\n  animations: [zoomMotion],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  templateUrl: './bps-select-top-control.component.html'\n})\nexport class BpsSelectTopControlComponent implements OnInit, OnDestroy {\n  inputValue: string;\n  isComposing = false;\n  private destroy$ = new Subject();\n  @ViewChild('inputElement', { static: false }) inputElement: ElementRef;\n  @ViewChild('mirrorElement', { static: false }) mirrorElement: ElementRef;\n  @Input() bpsShowSearch = false;\n  @Input() bpsPlaceHolder: string;\n  @Input() bpsOpen = false;\n  @Input() bpsMaxTagCount: number;\n  @Input() bpsAllowClear = false;\n  @Input() bpsShowArrow = true;\n  @Input() bpsLoading = false;\n  @Input() bpsCustomTemplate: TemplateRef<{ $implicit: BpsOptionComponent }>;\n  @Input() bpsSuffixIcon: TemplateRef<void>;\n  @Input() bpsClearIcon: TemplateRef<void>;\n  @Input() bpsRemoveIcon: TemplateRef<void>;\n  // tslint:disable-next-line:no-any\n  @Input() bpsMaxTagPlaceholder: TemplateRef<{ $implicit: any[] }>;\n  @Input() bpsTokenSeparators: string[] = [];\n\n  onClearSelection(e: MouseEvent): void {\n    e.stopPropagation();\n    this.nzSelectService.updateListOfSelectedValue([], true);\n  }\n\n  setInputValue(value: string): void {\n    /** fix clear value https://github.com/NG-ZORRO/ng-zorro-antd/issues/3825 **/\n    if (this.inputDOM && !value) {\n      this.inputDOM.value = value;\n    }\n    this.inputValue = value;\n    this.updateWidth();\n    this.nzSelectService.updateSearchValue(value);\n    this.nzSelectService.tokenSeparate(this.inputValue, this.bpsTokenSeparators);\n  }\n\n  get mirrorDOM(): HTMLElement {\n    return this.mirrorElement && this.mirrorElement.nativeElement;\n  }\n\n  get inputDOM(): HTMLInputElement {\n    return this.inputElement && this.inputElement.nativeElement;\n  }\n\n  get placeHolderDisplay(): string {\n    return this.inputValue || this.isComposing || this.nzSelectService.listOfSelectedValue.length ? 'none' : 'block';\n  }\n\n  get selectedValueStyle(): { [key: string]: string } {\n    let showSelectedValue = false;\n    let opacity = 1;\n    if (!this.bpsShowSearch) {\n      showSelectedValue = true;\n    } else {\n      if (this.bpsOpen) {\n        showSelectedValue = !(this.inputValue || this.isComposing);\n        if (showSelectedValue) {\n          opacity = 0.4;\n        }\n      } else {\n        showSelectedValue = true;\n      }\n    }\n    return {\n      display: showSelectedValue ? 'block' : 'none',\n      opacity: `${opacity}`\n    };\n  }\n\n  // tslint:disable-next-line:no-any\n  trackValue(_index: number, option: BpsOptionComponent): any {\n    return option.bpsValue;\n  }\n\n  updateWidth(): void {\n    if (this.mirrorDOM && this.inputDOM && this.inputDOM.value) {\n      this.mirrorDOM.innerText = `${this.inputDOM.value}&nbsp;`;\n      this.renderer.removeStyle(this.inputDOM, 'width');\n      this.renderer.setStyle(this.inputDOM, 'width', `${this.mirrorDOM.clientWidth}px`);\n    } else if (this.inputDOM) {\n      this.renderer.removeStyle(this.inputDOM, 'width');\n      this.mirrorDOM.innerText = '';\n    }\n  }\n\n  removeSelectedValue(option: BpsOptionComponent, e: MouseEvent): void {\n    this.nzSelectService.removeValueFormSelected(option);\n    e.stopPropagation();\n  }\n\n  animationEnd(): void {\n    this.nzSelectService.animationEvent$.next();\n  }\n\n  constructor(\n    private renderer: Renderer2,\n    public nzSelectService: BpsSelectService,\n    private cdr: ChangeDetectorRef,\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\n  ) {}\n\n  ngOnInit(): void {\n    this.nzSelectService.open$.pipe(takeUntil(this.destroy$)).subscribe(open => {\n      if (this.inputElement && open) {\n        setTimeout(() => this.inputDOM.focus());\n      }\n    });\n    this.nzSelectService.clearInput$.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this.setInputValue('');\n    });\n    this.nzSelectService.check$.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this.cdr.markForCheck();\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","import { CdkConnectedOverlay, CdkOverlayOrigin, ConnectedOverlayPositionChange } from '@angular/cdk/overlay';\nimport { Platform } from '@angular/cdk/platform';\nimport {\n  forwardRef,\n  AfterContentInit,\n  AfterViewInit,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ContentChildren,\n  ElementRef,\n  EventEmitter,\n  Host,\n  Input,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  QueryList,\n  Renderer2,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { merge, EMPTY, Subject } from 'rxjs';\nimport { flatMap, startWith, takeUntil } from 'rxjs/operators';\n\nimport {\n  isNotNil,\n  slideMotion,\n  toBoolean,\n  InputBoolean,\n  NzNoAnimationDirective,\n  NzSizeLDSType\n} from 'ng-zorro-antd/core';\n\nimport { BpsOptionGroupComponent } from './bps-option-group.component';\nimport { BpsOptionComponent } from './bps-option.component';\nimport { TFilterOption } from './bps-option.pipe';\nimport { BpsSelectTopControlComponent } from './bps-select-top-control.component';\nimport { BpsSelectService } from './bps-select.service';\n\n@Component({\n  selector: 'bps-select',\n  exportAs: 'bpsSelect',\n  preserveWhitespaces: false,\n  providers: [\n    BpsSelectService,\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => BpsSelectComponent),\n      multi: true\n    }\n  ],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  animations: [slideMotion],\n  templateUrl: './bps-select.component.html',\n  styleUrls: ['./bps-select.component.css'],\n  host: {\n    '[class.ant-select-lg]': 'bpsSize===\"large\"',\n    '[class.ant-select-sm]': 'bpsSize===\"small\"',\n    '[class.ant-select-enabled]': '!bpsDisabled',\n    '[class.ant-select-no-arrow]': '!bpsShowArrow',\n    '[class.ant-select-disabled]': 'bpsDisabled',\n    '[class.ant-select-allow-clear]': 'bpsAllowClear',\n    '[class.ant-select-open]': 'open',\n    '(click)': 'toggleDropDown()'\n  },\n  styles: [\n    `\n      .ant-select-dropdown {\n        top: 100%;\n        left: 0;\n        position: relative;\n        width: 100%;\n        margin-top: 4px;\n        margin-bottom: 4px;\n      }\n    `\n  ]\n})\nexport class BpsSelectComponent implements ControlValueAccessor, OnInit, AfterViewInit, OnDestroy, AfterContentInit {\n  open = false;\n  // tslint:disable-next-line:no-any\n  value: any | any[];\n  onChange: (value: string | string[]) => void = () => null;\n  onTouched: () => void = () => null;\n  dropDownPosition: 'top' | 'center' | 'bottom' = 'bottom';\n  triggerWidth: number;\n  private _disabled = false;\n  private isInit = false;\n  private destroy$ = new Subject();\n  @ViewChild(CdkOverlayOrigin, { static: false }) cdkOverlayOrigin: CdkOverlayOrigin;\n  @ViewChild(CdkConnectedOverlay, { static: false }) cdkConnectedOverlay: CdkConnectedOverlay;\n  @ViewChild(BpsSelectTopControlComponent, { static: true }) bpsSelectTopControlComponent: BpsSelectTopControlComponent;\n  @ViewChild(BpsSelectTopControlComponent, { static: true, read: ElementRef }) bpsSelectTopControlElement: ElementRef;\n  /** should move to nz-option-container when https://github.com/angular/angular/issues/20810 resolved **/\n  @ContentChildren(BpsOptionComponent) listOfNzOptionComponent: QueryList<BpsOptionComponent>;\n  @ContentChildren(BpsOptionGroupComponent) listOfNzOptionGroupComponent: QueryList<BpsOptionGroupComponent>;\n  @Output() readonly bpsOnSearch = new EventEmitter<string>();\n  @Output() readonly bpsScrollToBottom = new EventEmitter<void>();\n  @Output() readonly bpsOpenChange = new EventEmitter<boolean>();\n  @Output() readonly bpsBlur = new EventEmitter<void>();\n  @Output() readonly bpsFocus = new EventEmitter<void>();\n  @Input() bpsSize: NzSizeLDSType = 'default';\n  @Input() bpsDropdownClassName: string;\n  @Input() bpsDropdownMatchSelectWidth = true;\n  @Input() bpsDropdownStyle: { [key: string]: string };\n  @Input() bpsNotFoundContent: string;\n  @Input() @InputBoolean() bpsAllowClear = false;\n  @Input() @InputBoolean() bpsShowSearch = false;\n  @Input() @InputBoolean() bpsLoading = false;\n  @Input() @InputBoolean() bpsAutoFocus = false;\n  @Input() bpsPlaceHolder: string;\n  @Input() bpsMaxTagCount: number;\n  @Input() bpsDropdownRender: TemplateRef<void>;\n  @Input() bpsCustomTemplate: TemplateRef<{ $implicit: BpsOptionComponent }>;\n  @Input() bpsSuffixIcon: TemplateRef<void>;\n  @Input() bpsClearIcon: TemplateRef<void>;\n  @Input() bpsRemoveIcon: TemplateRef<void>;\n  @Input() bpsMenuItemSelectedIcon: TemplateRef<void>;\n  @Input() bpsShowArrow = true;\n  @Input() bpsTokenSeparators: string[] = [];\n  // tslint:disable-next-line:no-any\n  @Input() bpsMaxTagPlaceholder: TemplateRef<{ $implicit: any[] }>;\n\n  @Input()\n  set bpsAutoClearSearchValue(value: boolean) {\n    this.nzSelectService.autoClearSearchValue = toBoolean(value);\n  }\n\n  @Input()\n  set bpsMaxMultipleCount(value: number) {\n    this.nzSelectService.maxMultipleCount = value;\n  }\n\n  @Input()\n  set bpsServerSearch(value: boolean) {\n    this.nzSelectService.serverSearch = toBoolean(value);\n  }\n\n  @Input()\n  set bpsMode(value: 'default' | 'multiple' | 'tags') {\n    this.nzSelectService.mode = value;\n    this.nzSelectService.check();\n  }\n\n  @Input()\n  set bpsFilterOption(value: TFilterOption) {\n    this.nzSelectService.filterOption = value;\n  }\n\n  @Input()\n  // tslint:disable-next-line:no-any\n  set compareWith(value: (o1: any, o2: any) => boolean) {\n    this.nzSelectService.compareWith = value;\n  }\n\n  @Input()\n  set bpsOpen(value: boolean) {\n    this.open = value;\n    this.nzSelectService.setOpenState(value);\n  }\n\n  @Input()\n  set bpsDisabled(value: boolean) {\n    this._disabled = toBoolean(value);\n    this.nzSelectService.disabled = this._disabled;\n    this.nzSelectService.check();\n    if (this.bpsDisabled && this.isInit) {\n      this.closeDropDown();\n    }\n  }\n\n  get bpsDisabled(): boolean {\n    return this._disabled;\n  }\n\n  get bpsSelectTopControlDOM(): HTMLElement {\n    return this.bpsSelectTopControlElement && this.bpsSelectTopControlElement.nativeElement;\n  }\n\n  updateAutoFocus(): void {\n    if (this.bpsSelectTopControlDOM && this.bpsAutoFocus) {\n      this.bpsSelectTopControlDOM.focus();\n    }\n  }\n\n  focus(): void {\n    if (this.bpsSelectTopControlDOM) {\n      this.bpsSelectTopControlDOM.focus();\n    }\n  }\n\n  blur(): void {\n    if (this.bpsSelectTopControlDOM) {\n      this.bpsSelectTopControlDOM.blur();\n    }\n  }\n\n  onFocus(): void {\n    this.bpsFocus.emit();\n  }\n\n  onBlur(): void {\n    this.bpsBlur.emit();\n  }\n\n  onKeyDown(event: KeyboardEvent): void {\n    this.nzSelectService.onKeyDown(event);\n  }\n\n  toggleDropDown(): void {\n    if (!this.bpsDisabled) {\n      this.nzSelectService.setOpenState(!this.open);\n    }\n  }\n\n  closeDropDown(): void {\n    this.nzSelectService.setOpenState(false);\n  }\n\n  onPositionChange(position: ConnectedOverlayPositionChange): void {\n    this.dropDownPosition = position.connectionPair.originY;\n  }\n\n  updateCdkConnectedOverlayStatus(): void {\n    if (this.platform.isBrowser) {\n      this.triggerWidth = this.cdkOverlayOrigin.elementRef.nativeElement.getBoundingClientRect().width;\n    }\n  }\n\n  updateCdkConnectedOverlayPositions(): void {\n    setTimeout(() => {\n      if (this.cdkConnectedOverlay && this.cdkConnectedOverlay.overlayRef) {\n        this.cdkConnectedOverlay.overlayRef.updatePosition();\n      }\n    });\n  }\n\n  constructor(\n    renderer: Renderer2,\n    public nzSelectService: BpsSelectService,\n    private cdr: ChangeDetectorRef,\n    private platform: Platform,\n    elementRef: ElementRef,\n    @Host() @Optional() public noAnimation?: NzNoAnimationDirective\n  ) {\n    renderer.addClass(elementRef.nativeElement, 'ant-select');\n  }\n\n  /** update ngModel -> update listOfSelectedValue **/\n  // tslint:disable-next-line:no-any\n  writeValue(value: any | any[]): void {\n    this.value = value;\n    let listValue: any[] = []; // tslint:disable-line:no-any\n    if (isNotNil(value)) {\n      if (this.nzSelectService.isMultipleOrTags) {\n        listValue = value;\n      } else {\n        listValue = [value];\n      }\n    }\n    this.nzSelectService.updateListOfSelectedValue(listValue, false);\n    this.cdr.markForCheck();\n  }\n\n  registerOnChange(fn: (value: string | string[]) => void): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.bpsDisabled = isDisabled;\n    this.cdr.markForCheck();\n  }\n\n  ngOnInit(): void {\n    this.nzSelectService.animationEvent$\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => this.updateCdkConnectedOverlayPositions());\n    this.nzSelectService.searchValue$.pipe(takeUntil(this.destroy$)).subscribe(data => {\n      this.bpsOnSearch.emit(data);\n      this.updateCdkConnectedOverlayPositions();\n    });\n    this.nzSelectService.modelChange$.pipe(takeUntil(this.destroy$)).subscribe(modelValue => {\n      if (this.value !== modelValue) {\n        this.value = modelValue;\n        this.onChange(this.value);\n      }\n    });\n    this.nzSelectService.open$.pipe(takeUntil(this.destroy$)).subscribe(value => {\n      if (this.open !== value) {\n        this.bpsOpenChange.emit(value);\n      }\n      if (value) {\n        this.focus();\n        this.updateCdkConnectedOverlayStatus();\n      } else {\n        this.blur();\n        this.onTouched();\n      }\n      this.open = value;\n      this.nzSelectService.clearInput();\n    });\n    this.nzSelectService.check$.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this.cdr.markForCheck();\n    });\n  }\n\n  ngAfterViewInit(): void {\n    this.updateCdkConnectedOverlayStatus();\n    this.updateAutoFocus();\n    this.isInit = true;\n  }\n\n  ngAfterContentInit(): void {\n    this.listOfNzOptionGroupComponent.changes\n      .pipe(\n        startWith(true),\n        flatMap(() =>\n          merge(\n            this.listOfNzOptionGroupComponent.changes,\n            this.listOfNzOptionComponent.changes,\n            ...this.listOfNzOptionComponent.map(option => option.changes),\n            ...this.listOfNzOptionGroupComponent.map(group =>\n              group.listOfNzOptionComponent ? group.listOfNzOptionComponent.changes : EMPTY\n            )\n          ).pipe(startWith(true))\n        )\n      )\n      .subscribe(() => {\n        this.nzSelectService.updateTemplateOption(\n          this.listOfNzOptionComponent.toArray(),\n          this.listOfNzOptionGroupComponent.toArray()\n        );\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","import { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[bps-select-unselectable]',\n  exportAs: 'bpsSelectUnselectable',\n  host: {\n    '[attr.unselectable]': '\"unselectable\"',\n    '[style.user-select]': '\"none\"'\n  }\n})\nexport class BpsSelectUnselectableDirective {}\n","import { ChangeDetectionStrategy, Component, ElementRef, Renderer2, ViewEncapsulation } from '@angular/core';\r\nimport { helpMotion, warnDeprecation } from 'ng-zorro-antd/core';\r\n\r\n@Component({\r\n  selector: 'bps-form-explain',\r\n  exportAs: 'bpsFormExplain',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [helpMotion],\r\n  templateUrl: './bps-form-explain.component.html',\r\n  styles: [\r\n    `\r\n      bps-form-explain {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\n/**\r\n * @deprecated Use `[bpsSuccessTip] | [bpsWarningTip] | [bpsErrorTip] | [bpsValidatingTip]` in `bpsFormControlComponent` instead, will remove in 9.0.0.\r\n */\r\nexport class BpsFormExplainComponent {\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {\r\n    this.renderer.addClass(this.elementRef.nativeElement, 'ant-form-explain');\r\n    warnDeprecation(\r\n      `'bps-form-explain' is going to be removed in 9.0.0. Use [bpsSuccessTip] | [bpsWarningTip] | [bpsErrorTip] | [bpsValidatingTip] in bps-form-control instead. Read https://ng.ant.design/components/form/en`\r\n    );\r\n  }\r\n}\r\n","import { MediaMatcher } from '@angular/cdk/layout';\r\nimport { Platform } from '@angular/cdk/platform';\r\nimport {\r\n  AfterContentInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChildren,\r\n  ElementRef,\r\n  Input,\r\n  NgZone,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  QueryList,\r\n  Renderer2,\r\n  SimpleChanges,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { startWith, takeUntil } from 'rxjs/operators';\r\n\r\nimport { InputBoolean, NzDomEventService, NzUpdateHostClassService } from 'ng-zorro-antd/core';\r\nimport { NzRowDirective } from 'ng-zorro-antd/grid';\r\n\r\nimport { BpsFormExplainComponent } from './bps-form-explain.component';\r\n\r\n/** should add nz-row directive to host, track https://github.com/angular/angular/issues/8785 **/\r\n@Component({\r\n  selector: 'bps-form-item',\r\n  exportAs: 'bpsFormItem',\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  providers: [NzUpdateHostClassService],\r\n  templateUrl: './bps-form-item.component.html',\r\n  host: {\r\n    '[class.ant-form-item-with-help]': 'withHelpClass'\r\n  },\r\n  styles: [\r\n    `\r\n      bps-form-item {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class BpsFormItemComponent extends NzRowDirective\r\n  implements AfterContentInit, OnDestroy, OnChanges, OnInit, OnDestroy {\r\n  @Input() @InputBoolean() bpsFlex: boolean = false;\r\n  @ContentChildren(BpsFormExplainComponent, { descendants: true })\r\n  listOfNzFormExplainComponent: QueryList<BpsFormExplainComponent>;\r\n  withHelpClass = false;\r\n  tipsMode = false;\r\n\r\n  updateFlexStyle(): void {\r\n    if (this.bpsFlex) {\r\n      this.renderer.setStyle(this.elementRef.nativeElement, 'display', 'flex');\r\n    } else {\r\n      this.renderer.removeStyle(this.elementRef.nativeElement, 'display');\r\n    }\r\n  }\r\n\r\n  setWithHelpViaTips(value: boolean): void {\r\n    this.tipsMode = true;\r\n    this.withHelpClass = value;\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  constructor(\r\n    elementRef: ElementRef,\r\n    renderer: Renderer2,\r\n    nzUpdateHostClassService: NzUpdateHostClassService,\r\n    mediaMatcher: MediaMatcher,\r\n    ngZone: NgZone,\r\n    platform: Platform,\r\n    nzDomEventService: NzDomEventService,\r\n    private cdr: ChangeDetectorRef\r\n  ) {\r\n    super(elementRef, renderer, nzUpdateHostClassService, mediaMatcher, ngZone, platform, nzDomEventService);\r\n    renderer.addClass(elementRef.nativeElement, 'ant-form-item');\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    if (!this.tipsMode) {\r\n      this.listOfNzFormExplainComponent.changes\r\n        .pipe(\r\n          startWith(true),\r\n          takeUntil(this.destroy$)\r\n        )\r\n        .subscribe(() => {\r\n          this.withHelpClass = this.listOfNzFormExplainComponent && this.listOfNzFormExplainComponent.length > 0;\r\n          this.cdr.markForCheck();\r\n        });\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n\r\n    this.updateFlexStyle();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    super.ngOnChanges(changes);\r\n    if (changes.hasOwnProperty('bpsFlex')) {\r\n      this.updateFlexStyle();\r\n    }\r\n  }\r\n}\r\n","import {\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ElementRef,\r\n  Host,\r\n  Input,\r\n  OnDestroy,\r\n  Optional,\r\n  Renderer2,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\n\r\nimport { toBoolean, InputBoolean, NzUpdateHostClassService } from 'ng-zorro-antd/core';\r\nimport { NzColDirective, NzRowDirective } from 'ng-zorro-antd/grid';\r\n\r\nimport { BpsFormItemComponent } from './bps-form-item.component';\r\n\r\n@Component({\r\n  selector: 'bps-form-label',\r\n  exportAs: 'bpsFormLabel',\r\n  providers: [NzUpdateHostClassService],\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './bps-form-label.component.html'\r\n})\r\nexport class BpsFormLabelComponent extends NzColDirective implements OnDestroy, AfterViewInit {\r\n  @Input() bpsFor: string;\r\n  @Input() @InputBoolean() bpsRequired = false;\r\n  @Input()\r\n  set bpsNoColon(value: boolean) {\r\n    this.noColon = toBoolean(value);\r\n  }\r\n  get bpsNoColon(): boolean {\r\n    return !!this.noColon;\r\n  }\r\n\r\n  defaultNoColon: boolean = false;\r\n  noColon: boolean | string = 'default';\r\n\r\n  constructor(\r\n    nzUpdateHostClassService: NzUpdateHostClassService,\r\n    elementRef: ElementRef,\r\n    @Optional() @Host() nzFormItemComponent: BpsFormItemComponent,\r\n    @Optional() @Host() nzRowDirective: NzRowDirective,\r\n    renderer: Renderer2,\r\n    private cdr: ChangeDetectorRef\r\n  ) {\r\n    super(nzUpdateHostClassService, elementRef, nzFormItemComponent || nzRowDirective, renderer);\r\n    renderer.addClass(elementRef.nativeElement, 'ant-form-item-label');\r\n  }\r\n\r\n  setDefaultNoColon(value: boolean): void {\r\n    this.defaultNoColon = toBoolean(value);\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  ContentChildren,\r\n  Directive,\r\n  ElementRef,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  QueryList,\r\n  Renderer2,\r\n  SimpleChanges\r\n} from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { startWith, takeUntil } from 'rxjs/operators';\r\n\r\nimport { InputBoolean, NzConfigService, NzUpdateHostClassService, WithConfig } from 'ng-zorro-antd/core';\r\n\r\nimport { BpsFormLabelComponent } from './bps-form-label.component';\r\n\r\nconst NZ_CONFIG_COMPONENT_NAME = 'form';\r\n\r\n@Directive({\r\n  selector: '[bps-form]',\r\n  exportAs: 'bpsForm',\r\n  providers: [NzUpdateHostClassService]\r\n})\r\nexport class BpsFormDirective implements OnInit, OnChanges, AfterContentInit, OnDestroy {\r\n  @Input() bpsLayout = 'horizontal';\r\n  @Input() @WithConfig(NZ_CONFIG_COMPONENT_NAME, false) @InputBoolean() bpsNoColon: boolean;\r\n\r\n  @ContentChildren(BpsFormLabelComponent, { descendants: true }) bpsFormLabelComponent: QueryList<BpsFormLabelComponent>;\r\n\r\n  destroy$ = new Subject();\r\n\r\n  setClassMap(): void {\r\n    this.nzUpdateHostClassService.updateHostClass(this.elementRef.nativeElement, {\r\n      [`ant-form-${this.bpsLayout}`]: this.bpsLayout\r\n    });\r\n  }\r\n\r\n  updateItemsDefaultColon(): void {\r\n    if (this.bpsFormLabelComponent) {\r\n      this.bpsFormLabelComponent.forEach(item => item.setDefaultNoColon(this.bpsNoColon));\r\n    }\r\n  }\r\n\r\n  constructor(\r\n    public nzConfigService: NzConfigService,\r\n    private elementRef: ElementRef,\r\n    private renderer: Renderer2,\r\n    private nzUpdateHostClassService: NzUpdateHostClassService\r\n  ) {\r\n    this.renderer.addClass(elementRef.nativeElement, 'ant-form');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setClassMap();\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.setClassMap();\r\n    if (changes.hasOwnProperty('bpsNoColon')) {\r\n      this.updateItemsDefaultColon();\r\n    }\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    this.bpsFormLabelComponent.changes\r\n      .pipe(\r\n        startWith(null),\r\n        takeUntil(this.destroy$)\r\n      )\r\n      .subscribe(() => {\r\n        this.updateItemsDefaultColon();\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n}\r\n","import {\r\n  AfterContentInit,\r\n  AfterViewInit,\r\n  ChangeDetectionStrategy,\r\n  ChangeDetectorRef,\r\n  Component,\r\n  ContentChild,\r\n  ElementRef,\r\n  Host,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  Optional,\r\n  Renderer2,\r\n  TemplateRef,\r\n  ViewEncapsulation\r\n} from '@angular/core';\r\nimport { FormControl, FormControlDirective, FormControlName, NgControl, NgModel } from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\nimport { startWith } from 'rxjs/operators';\r\n\r\nimport { helpMotion, toBoolean, NgClassType, NzUpdateHostClassService } from 'ng-zorro-antd/core';\r\nimport { NzColDirective, NzRowDirective } from 'ng-zorro-antd/grid';\r\nimport { BpsFormItemComponent } from './bps-form-item.component';\r\n\r\nexport type NzFormControlStatusType = 'warning' | 'validating' | 'error' | 'success' | null;\r\n\r\n@Component({\r\n  selector: 'bps-form-control',\r\n  exportAs: 'bpsFormControl',\r\n  preserveWhitespaces: false,\r\n  animations: [helpMotion],\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  providers: [NzUpdateHostClassService],\r\n  templateUrl: './bps-form-control.component.html',\r\n  styles: [\r\n    `\r\n      bps-form-control {\r\n        display: block;\r\n      }\r\n      form .has-feedback .ant-input-suffix i {\r\n        margin-right: 18px;\r\n      }\r\n    `\r\n  ]\r\n})\r\nexport class BpsFormControlComponent extends NzColDirective\r\n  implements OnDestroy, OnInit, AfterContentInit, AfterViewInit, OnDestroy {\r\n  private _hasFeedback = false;\r\n  private validateChanges: Subscription = Subscription.EMPTY;\r\n  private validateString: string | null;\r\n  validateControl: FormControl | NgModel | null;\r\n  status: NzFormControlStatusType = null;\r\n  controlClassMap: NgClassType = {};\r\n  iconType: string;\r\n  @ContentChild(NgControl, { static: false }) defaultValidateControl: FormControlName | FormControlDirective;\r\n  @Input() bpsSuccessTip: string | TemplateRef<{ $implicit: FormControl | NgModel }>;\r\n  @Input() bpsWarningTip: string | TemplateRef<{ $implicit: FormControl | NgModel }>;\r\n  @Input() bpsErrorTip: string | TemplateRef<{ $implicit: FormControl | NgModel }>;\r\n  @Input() bpsValidatingTip: string | TemplateRef<{ $implicit: FormControl | NgModel }>;\r\n  @Input() bpsExtra: string | TemplateRef<void>;\r\n\r\n  @Input()\r\n  set bpsHasFeedback(value: boolean) {\r\n    this._hasFeedback = toBoolean(value);\r\n    this.setControlClassMap();\r\n  }\r\n\r\n  get bpsHasFeedback(): boolean {\r\n    return this._hasFeedback;\r\n  }\r\n\r\n  @Input()\r\n  set bpsValidateStatus(value: string | FormControl | FormControlName | NgModel) {\r\n    if (value instanceof FormControl || value instanceof NgModel) {\r\n      this.validateControl = value;\r\n      this.validateString = null;\r\n      this.watchControl();\r\n    } else if (value instanceof FormControlName) {\r\n      this.validateControl = value.control;\r\n      this.validateString = null;\r\n      this.watchControl();\r\n    } else {\r\n      this.validateString = value;\r\n      this.validateControl = null;\r\n      this.setControlClassMap();\r\n    }\r\n  }\r\n\r\n  removeSubscribe(): void {\r\n    this.validateChanges.unsubscribe();\r\n  }\r\n\r\n  watchControl(): void {\r\n    this.removeSubscribe();\r\n    /** miss detect https://github.com/angular/angular/issues/10887 **/\r\n    if (this.validateControl && this.validateControl.statusChanges) {\r\n      this.validateChanges = this.validateControl.statusChanges.pipe(startWith(null)).subscribe(() => {\r\n        this.setControlClassMap();\r\n        this.cdr.markForCheck();\r\n      });\r\n    }\r\n  }\r\n\r\n  validateControlStatus(status: string): boolean {\r\n    return (!!this.validateControl &&\r\n      (this.validateControl.dirty || this.validateControl.touched) &&\r\n      this.validateControl.status === status) as boolean;\r\n  }\r\n\r\n  setControlClassMap(): void {\r\n    if (this.validateString === 'warning') {\r\n      this.status = 'warning';\r\n      this.iconType = 'exclamation-circle-fill';\r\n    } else if (\r\n      this.validateString === 'validating' ||\r\n      this.validateString === 'pending' ||\r\n      this.validateControlStatus('PENDING')\r\n    ) {\r\n      this.status = 'validating';\r\n      this.iconType = 'loading';\r\n    } else if (this.validateString === 'error' || this.validateControlStatus('INVALID')) {\r\n      this.status = 'error';\r\n      this.iconType = 'close-circle-fill';\r\n    } else if (this.validateString === 'success' || this.validateControlStatus('VALID')) {\r\n      this.status = 'success';\r\n      this.iconType = 'check-circle-fill';\r\n    } else {\r\n      this.status = null;\r\n      this.iconType = '';\r\n    }\r\n    if (this.hasTips) {\r\n      this.nzFormItemComponent.setWithHelpViaTips(this.showErrorTip);\r\n    }\r\n    this.controlClassMap = {\r\n      [`has-warning`]: this.status === 'warning',\r\n      [`is-validating`]: this.status === 'validating',\r\n      [`has-error`]: this.status === 'error',\r\n      [`has-success`]: this.status === 'success',\r\n      [`has-feedback`]: this.bpsHasFeedback && this.status\r\n    };\r\n  }\r\n\r\n  get hasTips(): boolean {\r\n    return !!(this.bpsSuccessTip || this.bpsWarningTip || this.bpsErrorTip || this.bpsValidatingTip);\r\n  }\r\n\r\n  get showSuccessTip(): boolean {\r\n    return this.status === 'success' && !!this.bpsSuccessTip;\r\n  }\r\n\r\n  get showWarningTip(): boolean {\r\n    return this.status === 'warning' && !!this.bpsWarningTip;\r\n  }\r\n\r\n  get showErrorTip(): boolean {\r\n    return this.status === 'error' && !!this.bpsErrorTip;\r\n  }\r\n\r\n  get showValidatingTip(): boolean {\r\n    return this.status === 'validating' && !!this.bpsValidatingTip;\r\n  }\r\n\r\n  get showInnerTip(): boolean {\r\n    return this.showSuccessTip || this.showWarningTip || this.showErrorTip || this.showValidatingTip;\r\n  }\r\n\r\n  constructor(\r\n    nzUpdateHostClassService: NzUpdateHostClassService,\r\n    elementRef: ElementRef,\r\n    @Optional() @Host() private nzFormItemComponent: BpsFormItemComponent,\r\n    @Optional() @Host() nzRowDirective: NzRowDirective,\r\n    private cdr: ChangeDetectorRef,\r\n    renderer: Renderer2\r\n  ) {\r\n    super(nzUpdateHostClassService, elementRef, nzFormItemComponent || nzRowDirective, renderer);\r\n    renderer.addClass(elementRef.nativeElement, 'ant-form-item-control-wrapper');\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.setControlClassMap();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.removeSubscribe();\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  ngAfterContentInit(): void {\r\n    if (!this.validateControl && !this.validateString) {\r\n      if (this.defaultValidateControl instanceof FormControlDirective) {\r\n        this.bpsValidateStatus = this.defaultValidateControl.control;\r\n      } else {\r\n        this.bpsValidateStatus = this.defaultValidateControl;\r\n      }\r\n    }\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    super.ngAfterViewInit();\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, ElementRef, Renderer2, ViewEncapsulation } from '@angular/core';\r\nimport { warnDeprecation } from 'ng-zorro-antd/core';\r\n\r\n@Component({\r\n  selector: 'bps-form-extra',\r\n  exportAs: 'bpsFormExtra',\r\n  templateUrl: './bps-form-extra.component.html',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  styles: [\r\n    `\r\n      bps-form-extra {\r\n        display: block;\r\n      }\r\n    `\r\n  ]\r\n})\r\n/**\r\n * @deprecated Use `[bpsExtra]` in `BpsFormControlComponent` instead, will remove in 9.0.0.\r\n */\r\nexport class BpsFormExtraComponent {\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {\r\n    this.renderer.addClass(this.elementRef.nativeElement, 'ant-form-extra');\r\n    warnDeprecation(\r\n      `'bps-form-extra' is going to be removed in 9.0.0. Use [bpsExtra] in bps-form-control instead. Read https://ng.ant.design/components/form/en`\r\n    );\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, ElementRef, Renderer2, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bps-form-split',\r\n  exportAs: 'bpsFormSplit',\r\n  preserveWhitespaces: false,\r\n  encapsulation: ViewEncapsulation.None,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  templateUrl: './bps-form-split.component.html'\r\n})\r\nexport class BpsFormSplitComponent {\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {\r\n    this.renderer.addClass(this.elementRef.nativeElement, 'ant-form-split');\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, ElementRef, Renderer2, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'bps-form-text',\r\n  exportAs: 'bpsFormText',\r\n  preserveWhitespaces: false,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  encapsulation: ViewEncapsulation.None,\r\n  templateUrl: './bps-form-text.component.html'\r\n})\r\nexport class BpsFormTextComponent {\r\n  constructor(public elementRef: ElementRef, private renderer: Renderer2) {\r\n    this.renderer.addClass(this.elementRef.nativeElement, 'ant-form-text');\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BpsComponentsLibComponent } from './bps-components-lib.component';\r\nimport { NgZorroAntdModule, NzNoAnimationModule, NzOverlayModule, NZ_I18N, en_US } from 'ng-zorro-antd';\r\nimport {CommonModule} from '@angular/common';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { NzAddOnModule } from 'ng-zorro-antd/core';\r\nimport { NzIconModule } from 'ng-zorro-antd/icon';\r\nimport { NzEmptyModule } from 'ng-zorro-antd/empty';\r\nimport {FormsModule} from '@angular/forms';\r\n\r\n/* BPS Input */\r\nimport {BpsInputDirective} from './components/bps-input/bps-input.directive';\r\nimport {BpsAutosizeDirective} from './components/bps-input/bps-autosize.directive';\r\nimport {BpsInputGroupComponent} from './components/bps-input/bps-input-group.component';\r\n\r\n/* BPS Select */\r\nimport {BpsOptionComponent} from './components/bps-select/bps-option.component';\r\nimport {BpsFilterGroupOptionPipe} from './components/bps-select/bps-option.pipe';\r\nimport {BpsFilterOptionPipe} from './components/bps-select/bps-option.pipe';\r\nimport {BpsOptionContainerComponent} from './components/bps-select/bps-option-container.component';\r\nimport {BpsOptionGroupComponent} from './components/bps-select/bps-option-group.component';\r\nimport {BpsOptionLiComponent} from './components/bps-select/bps-option-li.component';\r\nimport {BpsSelectComponent} from './components/bps-select/bps-select.component';\r\nimport {BpsSelectTopControlComponent} from './components/bps-select/bps-select-top-control.component';\r\nimport {BpsSelectUnselectableDirective} from './components/bps-select/bps-select-unselectable.directive';\r\n\r\n/* BPS Form */\r\nimport {BpsFormDirective} from './components/bps-form/bps-form.directive';\r\nimport {BpsFormControlComponent} from './components/bps-form/bps-form-control.component';\r\nimport {BpsFormExplainComponent} from './components/bps-form/bps-form-explain.component';\r\nimport {BpsFormExtraComponent} from './components/bps-form/bps-form-extra.component';\r\nimport {BpsFormItemComponent} from './components/bps-form/bps-form-item.component';\r\nimport {BpsFormLabelComponent} from './components/bps-form/bps-form-label.component';\r\nimport {BpsFormSplitComponent} from './components/bps-form/bps-form-split.component';\r\nimport {BpsFormTextComponent} from './components/bps-form/bps-form-text.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BpsComponentsLibComponent,\r\n    BpsInputGroupComponent,\r\n    BpsInputDirective,\r\n    BpsAutosizeDirective,\r\n    BpsOptionComponent,\r\n    BpsFilterOptionPipe,\r\n    BpsFilterGroupOptionPipe,\r\n    BpsOptionContainerComponent,\r\n    BpsOptionGroupComponent,\r\n    BpsOptionLiComponent,\r\n    BpsSelectComponent,\r\n    BpsSelectTopControlComponent,\r\n    BpsSelectUnselectableDirective,\r\n    BpsFormDirective,\r\n    BpsFormExplainComponent,\r\n    BpsFormControlComponent,\r\n    BpsFormExtraComponent,\r\n    BpsFormItemComponent,\r\n    BpsFormLabelComponent,\r\n    BpsFormSplitComponent,\r\n    BpsFormTextComponent\r\n  ],\r\n  imports: [\r\n    NgZorroAntdModule,\r\n    CommonModule,\r\n    NzAddOnModule,\r\n    NzIconModule,\r\n    OverlayModule,\r\n    NzNoAnimationModule,\r\n    NzOverlayModule,\r\n    NzEmptyModule,\r\n    FormsModule\r\n  ],\r\n  exports: [\r\n    BpsComponentsLibComponent,\r\n    BpsComponentsLibComponent,\r\n    BpsInputGroupComponent,\r\n    BpsInputDirective,\r\n    BpsAutosizeDirective,\r\n    BpsOptionComponent,\r\n    BpsFilterOptionPipe,\r\n    BpsFilterGroupOptionPipe,\r\n    BpsOptionContainerComponent,\r\n    BpsOptionGroupComponent,\r\n    BpsOptionLiComponent,\r\n    BpsSelectComponent,\r\n    BpsSelectTopControlComponent,\r\n    BpsSelectUnselectableDirective,\r\n    BpsFormDirective,\r\n    BpsFormExplainComponent,\r\n    BpsFormControlComponent,\r\n    BpsFormExtraComponent,\r\n    BpsFormItemComponent,\r\n    BpsFormLabelComponent,\r\n    BpsFormSplitComponent,\r\n    BpsFormTextComponent\r\n  ],\r\n  providers: [\r\n    { provide: NZ_I18N, useValue: en_US }\r\n  ],\r\n})\r\nexport class BpsComponentsLibModule { }\r\n","/*\r\n * Public API Surface of bps-components-lib\r\n */\r\n\r\nexport * from './lib/bps-components-lib.service';\r\nexport * from './lib/bps-components-lib.component';\r\nexport * from './lib/bps-components-lib.module';\r\nexport * from './lib/components/bps-input/bps-autosize.directive';\r\nexport * from './lib/components/bps-input/bps-input.directive';\r\nexport * from './lib/components/bps-input/bps-input-group.component';\r\nexport * from './lib/components/bps-select/bps-option.component';\r\nexport * from './lib/components/bps-select/bps-option.pipe';\r\nexport * from './lib/components/bps-select/bps-option-container.component';\r\nexport * from './lib/components/bps-select/bps-option-group.component';\r\nexport * from './lib/components/bps-select/bps-option-li.component';\r\nexport * from './lib/components/bps-select/bps-select.service';\r\nexport * from './lib/components/bps-select/bps-select.component';\r\nexport * from './lib/components/bps-select/bps-select-top-control.component';\r\nexport * from './lib/components/bps-select/bps-select-unselectable.directive';\r\nexport * from './lib/components/bps-form/bps-form.directive';\r\nexport * from './lib/components/bps-form/bps-form-explain.component';\r\nexport * from './lib/components/bps-form/bps-form-control.component';\r\nexport * from './lib/components/bps-form/bps-form-extra.component';\r\nexport * from './lib/components/bps-form/bps-form-item.component';\r\nexport * from './lib/components/bps-form/bps-form-label.component';\r\nexport * from './lib/components/bps-form/bps-form-split.component';\r\nexport * from './lib/components/bps-form/bps-form-text.component';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}